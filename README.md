# GPIG-B Prototype

Please run `make` before each commit for type checking and linting.

For that, you need mypy and flake8 (`pip install mypy flake8 && mypy --install-types`). Additionally, install the requirements specified in each of the subsystems (./\*/requirements.txt).

To run the simulation inside docker containers, install docker and
docker-compose and run `docker-compose up --build`.

## Subsystems

./datagen/:
- Generate artificial data for the environment (temperature, wind, etc.)...
- ... As well as for the sensory readings of the wind  turbines.
- This is purely part of the prototype and would not exist in the final product.

./sensor_service/:
- Analyse the data generated by ./datagen/ to determine if wind turbines need
  maintenance.

./drone_scheduling/:
- Schedule and navigate the drones.

./manager/:
- A globally shared namespace to communicate between the different processes
- Management code to spin up the prototype

./configs/:
- configuration files for all subsystems

./api/:
- Expose the API to the dashboard

## Update server (GCP)

SSH into the machine and run:

    git pull
    # To reattach to the screen session running in the background
    screen -r
    # To stop the server
    Ctrl+c
    # Rebuild the images with the newest changes and run them
    sudo docker compose up --build
    # To detach from the screen session
    Ctrl+a d
    # If the screen session fails, run:
    screen
    # ... to start a new one
